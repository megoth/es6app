<h1>Extend the slides factory for the index directive</h1><p>To allow the Slide class to know whether or not it is the active slide, we need to supply it with current state:</p>
<pre><code>class Slide {
  constructor(state, states, currentState) {
    this.name = state.name;
    this.title = state.data.title;
    this.short = state.data.short;
    this.url = &#39;#&#39;+state.url;
    // for navigation purposes
    this.active = state === currentState;
    var index = states.indexOf(state);
    this.next = states[index + 1];
    this.previous = states[index - 1];
  }
}
</code></pre><p>In addition we need to extend the slidesFactory with a method that get all slides. We already have gotten all available states from UI Router, so we only need to transform that array to an array of slides:</p>
<pre><code>class SlidesFactory {
  constructor($state) {
    var states = $state.get().filter(function (state) {
      return !state.abstract;
    });
    return {
      fromState: function (state) {
        return new Slide(state, states);
      },
      getAll: function (currentState) {
        return states.map(function (state) {
          return new Slide(state, states, currentState);
        });
      }
    }
  }
}
</code></pre><p>For this reason we&#39;ve made use of <code>Array.prototype.map</code>, which iterates over the array it is called upon, and returns a new list of array.</p>
